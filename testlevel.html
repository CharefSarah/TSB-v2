<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/css/testlevel.css">
</head>

<body>

    <section>
        <section class="s2">
            <div id="dialog"></div>
            <img id="witch" src="../assets/img/witch.PNG">
            <div class="listBox">
                <h1 class="intro">Trouve tous les objets !<br />
                    <div id="list">
                        <ul>
                            <li id="li1" class="chaudron listItem ">Chaudron</li>
                            <li id="li2" class="chapeau listItem">Chapeau</li>
                            <li id="li3" class="potion listItem">Potion</li>
                        </ul>
                        <ul>
                            <li id="li4" class="grimoire listItem">Grimoire</li>
                            <li id="li5" class="canne listItem">Canne</li>
                            <li id="li6" class="parchemin listItem">Parchemin</li>
                        </ul>
                    </div>
            </div>
            <a id="target1" type="button" style="position:absolute; top:450px; left:1020px;"> <img width="160"
                    height="320" src="../assets/img/chaudron.PNG"></a>
            <a id="target2" type="button" style="position:absolute; top:670px; left:1585px;"> <img width="180"
                    height="100" src="../assets/img/hat.PNG"></a>
            <a id="target3" type="button" style="position:absolute; top:470px; left:955px;"> <img width="50" height="90"
                    src="../assets/img/potion.PNG"></a>
            <a id="target4" type="button" style="position:absolute; top:490px; left:25px;"> <img width="" height="300"
                    src="../assets/img/grimoire1.PNG"></a>
            <a id="target5" type="button" style="position:absolute; top:415px; left:590px;"> <img width="65"
                    height="400" src="../assets/img/canne.PNG"></a>
            <a id="target6" type="button" style="position:absolute; top:770px; left:780px;"> <img width="120"
                    height="35" src="../assets/img/parchemin.PNG"></a>
        </section>
    </section>
    <div class="light">
    </div>



    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>
        const pos = document.documentElement;
        pos.addEventListener('mousemove', e => {
            pos.style.setProperty('--x', e.clientX + 'px')
            pos.style.setProperty('--y', e.clientY + 'px')
        })
    </script>
    <script>
        var fadeTarget1 = document.getElementById("target1");
        var liCross1 = document.getElementById("li1");
        fadeTarget1.onclick = function () {
            fadeTarget1.classList.add("byebye");
            setTimeout(function () {
                liCross1.classList.add("strike")
                redirection();
            }, 1000)
        };
        var fadeTarget2 = document.getElementById("target2");
        var liCross2 = document.getElementById("li2");
        fadeTarget2.onclick = function () {
            fadeTarget2.classList.add("byebye");
            setTimeout(function () {
                liCross2.classList.add("strike")
                redirection();
            }, 1000)

        };
        var fadeTarget3 = document.getElementById("target3");
        var liCross3 = document.getElementById("li3");
        fadeTarget3.onclick = function () {
            fadeTarget3.classList.add("byebye");
            setTimeout(function () {
                liCross3.classList.add("strike")
                redirection();
            }, 1000)
        };
        var fadeTarget4 = document.getElementById("target4");
        var liCross4 = document.getElementById("li4");
        fadeTarget4.onclick = function () {
            fadeTarget4.classList.add("byebye");
            setTimeout(function () {
                liCross4.classList.add("strike")
                redirection();
            }, 1000)
        };
        var fadeTarget5 = document.getElementById("target5");
        var liCross5 = document.getElementById("li5");
        fadeTarget5.onclick = function () {
            fadeTarget5.classList.add("byebye");
            setTimeout(function () {
                liCross5.classList.add("strike")
                redirection();
            }, 1000)

        };
        var fadeTarget6 = document.getElementById("target6");
        var liCross6 = document.getElementById("li6");
        fadeTarget6.onclick = function () {
            fadeTarget6.classList.add("byebye");
            setTimeout(function () {
                liCross6.classList.add("strike")
                redirection();
            }, 1000)
        };
    </script>
    <script>
        var dialogs = [
                'Aide moi à retrouver mes affaires ! Certaines nous seront utile pour la suite de l’aventure !'
            ],
            initial = 0;
        individual = dialogs[initial].split('');

        function createDiag(dialog) {

            for (i = 0; i < dialog.length; i++) {
                (function (i) {

                    setTimeout(function () {
                        $('#dialog').text($('#dialog').text() + dialog[i]);
                        if (i == dialog.length - 1) {
                            $('#dialog').prepend('<div id="arrow"></div>');
                            Mousetrap.bind('enter', function () {
                                if (dialogs[initial + 1]) {
                                    $('#dialog').text('');
                                    initial += 1;
                                    individual = dialogs[initial].split('');
                                    createDiag(individual);
                                }
                            });
                        }
                    }, 50 * i);

                }(i));

            }

        }
        createDiag(individual);

        function redirection() {
            if (document.getElementById("li1").classList.contains("strike") && document.getElementById("li2").classList
                .contains("strike") && document.getElementById("li3").classList.contains("strike") && document
                .getElementById("li4").classList.contains("strike") && document.getElementById("li5").classList
                .contains("strike") && document.getElementById("li6").classList.contains("strike")) {
                var GG = "po mol psartek";
                document.getElementById("dialog").innerHTML = "";
                createDiag(GG);

            } else {

            };

        };
    </script>
</body>

</html>